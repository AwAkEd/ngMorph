angular.module("morph.transitions",["morph.assist"]),angular.module("morph.transitions").factory("ModalTransition",["ModalAssist",function(t){return function(n,i){{var s=i.MorphableBoundingRect;i.ContentBoundingRect}return t.setBoundingRect(n.wrapper,s),angular.forEach(n,function(n,i){t.applyDefaultStyles(n,i)}),{toggle:function(n,i,s){return s?angular.forEach(n,function(n,s){t.removeClass[s](n,i)}):(n.wrapper.css({transition:"none",top:i.MorphableBoundingRect.top+"px",left:i.MorphableBoundingRect.left+"px"}),setTimeout(function(){angular.forEach(n,function(n,s){t.addClass[s](n,i)})},25)),!s}}}}]),angular.module("morph.transitions").factory("ExpandTransition",[function(){}]),angular.module("morph.transitions").factory("OverlayTransition",[function(){}]),angular.module("morph.directives",["morph"]),angular.module("morph.directives").directive("ngMorphModal",["$http","$templateCache","$compile","Morph",function(t,n,i,s){var e=!1;return{restrict:"A",scope:{settings:"=ngMorphModal"},link:function(o,a){var r=t.get(o.settings.template.url,{cache:n}),p=angular.element("<div></div>").css("visibility","hidden"),c=function(t){return t&&(o.morphTemplate=t.data),i(o.morphTemplate)(o)};r.then(c).then(function(t){var n=angular.element(t[0].querySelector(o.settings.closeEl)),i={morphable:a,wrapper:p,content:t};p.append(t),a.after(p),p.css("background",getComputedStyle(t[0]).backgroundColor),o.settings.MorphableBoundingRect=a[0].getBoundingClientRect(),o.settings.ContentBoundingRect=t[0].getBoundingClientRect();var r=s.modal(i,o.settings);a.bind("click",function(){o.settings.MorphableBoundingRect=a[0].getBoundingClientRect(),e=r.toggle(i,o.settings,e)}),n&&n.bind("click",function(){o.settings.MorphableBoundingRect=a[0].getBoundingClientRect(),e=r.toggle(i,o.settings,e)}),o.$on("$destroy",function(){a.unbind("click"),n.unbind("click")})})}}}]),angular.module("morph.assist",[]).factory("ModalAssist",[function(){var t={wrapper:{position:"fixed","z-index":"900",opacity:"0",margin:"0","pointer-events":"none","-webkit-transition":"opacity 0.3s 0.5s, width 0.4s 0.1s, height 0.4s 0.1s, top 0.4s 0.1s, left 0.4s 0.1s, margin 0.4s 0.1s",transition:"opacity 0.3s 0.5s, width 0.4s 0.1s, height 0.4s 0.1s, top 0.4s 0.1s, left 0.4s 0.1s, margin 0.4s 0.1s"},content:{transition:"opacity 0.3s 0.3s ease","-webkit-transition":"opacity 0.3s 0.3s ease",height:"0",opacity:"0"},morphable:{"z-index":"1000",outline:"none","-webkit-transition":"all 0.1s 0.5s",transition:"all 0.1s 0.5s"}},n=function(t,n,i){t.css({top:n.top+"px",left:n.left+"px",width:n.width+"px",height:n.height+"px"}),"function"==typeof i&&i(t)};return{setBoundingRect:n,applyDefaultStyles:function(n,i){n.css(t[i])},addClass:{wrapper:function(t,n){{var i=n.ContentBoundingRect;n.MorphableBoundingRect}t.css({"z-index":1900,opacity:1,visibility:"visible","pointer-events":"auto",top:"50%",left:"50%",width:i.width+"px",height:i.height+"px",margin:"-"+i.height/2+"px 0 0 -"+i.width/2+"px","-webkit-transition":"width 0.4s 0.1s, height 0.4s 0.1s, top 0.4s 0.1s, left 0.4s 0.1s, margin 0.4s 0.1s",transition:"width 0.4s 0.1s, height 0.4s 0.1s, top 0.4s 0.1s, left 0.4s 0.1s, margin 0.4s 0.1s"})},content:function(t){t.css({transition:"opacity 0.3s 0.4s ease",visibility:"visible",opacity:"1"})},morphable:function(t){t.css({"z-index":2e3,opacity:0,"-webkit-transition":"opacity 0.1s",transition:"opacity 0.1s"})}},removeClass:{wrapper:function(t,n){var i=n.MorphableBoundingRect;t.css({position:"fixed","z-index":"900",opacity:"0",margin:0,top:i.top+"px",left:i.left+"px",width:i.width+"px",height:i.height+"px","pointer-events":"none","-webkit-transition":"opacity 0.3s 0.5s, width 0.35s 0.1s, height 0.35s 0.1s, top 0.35s 0.1s, left 0.35s 0.1s, margin 0.35s 0.1s",transition:"opacity 0.3s 0.5s, width 0.35s 0.1s, height 0.35s 0.1s, top 0.35s 0.1s, left 0.35s 0.1s, margin 0.35s 0.1s"})},content:function(t){t.css({transition:"opacity 0.3s 0.4s ease",height:"0",opacity:"0"}),setTimeout(function(){t.css({visibility:"hidden"})},100)},morphable:function(t){t.css({"z-index":900,opacity:1,"-webkit-transition":"opacity 0.1s 0.4s",transition:"opacity 0.1s 0.4s"})}}}}]),angular.module("morph",["morph.transitions"]).factory("Morph",["ModalTransition",function(t){return{modal:t}}]),angular.module("ngMorph",["morph.transitions","morph.directives","morph.assist","morph"]);