angular.module("morph.transitions",["morph.assist"]).factory("Transitions",["Modal","Overlay",function(t,n){return{Modal:t,Overlay:n}}]),angular.module("morph.transitions").factory("Modal",[function(){return function(t,n){var i={wrapper:function(t,n){var i=n.ContentBoundingRect,e=n.modal,s="50%",o="50%",a=0;e.position&&"center"!==e.position||(a="-"+i.height/2+"px 0 0 -"+i.width/2+"px"),"object"==typeof e.position&&(s=e.position.top+"",o=e.position.left+"",s.indexOf("%")<0&&s.indexOf("px")<0&&(s+="%"),o.indexOf("%")<0&&o.indexOf("px")<0&&(o+="%")),t.css({"z-index":1900,opacity:1,visibility:"visible","pointer-events":"auto",top:s,left:o,width:i.width+"px",height:i.height+"px",margin:a,"-webkit-transition":"width 0.4s 0.1s, height 0.4s 0.1s, top 0.4s 0.1s, left 0.4s 0.1s, margin 0.4s 0.1s",transition:"width 0.4s 0.1s, height 0.4s 0.1s, top 0.4s 0.1s, left 0.4s 0.1s, margin 0.4s 0.1s"})},content:function(t){t.css({transition:"opacity 0.3s 0.4s ease",visibility:"visible",opacity:"1"})},morphable:function(t){t.css({"z-index":2e3,opacity:0,"-webkit-transition":"opacity 0.1s",transition:"opacity 0.1s"})}},e={wrapper:function(t,n){var i=n.MorphableBoundingRect;t.css({position:"fixed","z-index":"900",opacity:"0",margin:0,top:i.top+"px",left:i.left+"px",width:i.width+"px",height:i.height+"px","pointer-events":"none","-webkit-transition":"opacity 0.3s 0.5s, width 0.35s 0.1s, height 0.35s 0.1s, top 0.35s 0.1s, left 0.35s 0.1s, margin 0.35s 0.1s",transition:"opacity 0.3s 0.5s, width 0.35s 0.1s, height 0.35s 0.1s, top 0.35s 0.1s, left 0.35s 0.1s, margin 0.35s 0.1s"})},content:function(t){t.css({transition:"opacity 0.3s 0.4s ease",height:"0",opacity:"0"}),setTimeout(function(){t.css({visibility:"hidden"})},100)},morphable:function(t){t.css({"z-index":900,opacity:1,"-webkit-transition":"opacity 0.1s 0.4s",transition:"opacity 0.1s 0.4s"})}};return{toggle:function(s){return s?angular.forEach(t,function(t,i){e[i](t,n)}):(t.wrapper.css({transition:"none",top:n.MorphableBoundingRect.top+"px",left:n.MorphableBoundingRect.left+"px"}),setTimeout(function(){angular.forEach(t,function(t,e){i[e](t,n)})},25)),!s}}}}]),angular.module("morph.transitions").factory("Expand",[function(){}]),angular.module("morph.transitions").factory("Overlay",[function(){return function(t,n){var i={wrapper:function(t){t.css({"z-index":1900,opacity:1,visibility:"visible","pointer-events":"auto",top:"0",left:"0",width:"100%",height:"100%","-webkit-transition":"width 0.4s 0.1s, height 0.4s 0.1s, top 0.4s 0.1s, left 0.4s 0.1s, margin 0.4s 0.1s",transition:"width 0.4s 0.1s, height 0.4s 0.1s, top 0.4s 0.1s, left 0.4s 0.1s, margin 0.4s 0.1s"})},content:function(t){t.css({transition:"opacity 0.3s 0.5s ease",visibility:"visible",opacity:"1"})},morphable:function(t){t.css({"z-index":2e3,opacity:0,"-webkit-transition":"opacity 0.1s",transition:"opacity 0.1s"})}},e={wrapper:function(t,n){var i=n.MorphableBoundingRect;setTimeout(function(){t.css({position:"fixed","z-index":"900",opacity:"0",margin:0,top:i.top+"px",left:i.left+"px",width:i.width+"px",height:i.height+"px","pointer-events":"none","-webkit-transition":"opacity 0.3s 0.5s, width 0.35s 0.1s, height 0.35s 0.1s, top 0.35s 0.1s, left 0.35s 0.1s, margin 0.35s 0.1s",transition:"opacity 0.3s 0.5s, width 0.35s 0.1s, height 0.35s 0.1s, top 0.35s 0.1s, left 0.35s 0.1s, margin 0.35s 0.1s"})},100)},content:function(t){t.css({transition:"opacity 0.22s ease","-webkit-transition":"opacity 0.22s ease",height:"0",opacity:"0"}),setTimeout(function(){t.css({visibility:"hidden"})},70)},morphable:function(t){t.css({"z-index":900,opacity:1,"-webkit-transition":"opacity 0.1s 0.3s",transition:"opacity 0.1s 0.3s"})}};return{toggle:function(s){return s?angular.forEach(t,function(t,i){e[i](t,n)}):(t.wrapper.css({transition:"none",top:n.MorphableBoundingRect.top+"px",left:n.MorphableBoundingRect.left+"px"}),setTimeout(function(){angular.forEach(t,function(t,e){i[e](t,n)})},25)),!s}}}}]),angular.module("morph.directives",["morph"]),angular.module("morph.directives").directive("ngMorphModal",["TemplateHandler","$compile","Morph",function(t,n,i){var e=!1;return{restrict:"A",scope:{settings:"=ngMorphModal"},link:function(s,o){var a=angular.element("<div></div>").css("visibility","hidden"),r=s.settings.modal,c=function(t){var i=t.data?t.data:t;return n(i)(s)},p=function(t){var n=angular.element(t[0].querySelector(s.settings.closeEl)),r={morphable:o,wrapper:a,content:t};a.append(t),o.after(a),a.css("background",getComputedStyle(t[0]).backgroundColor),s.settings.MorphableBoundingRect=o[0].getBoundingClientRect(),s.settings.ContentBoundingRect=t[0].getBoundingClientRect();var c=new i("Modal",r,s.settings);o.bind("click",function(){s.settings.MorphableBoundingRect=o[0].getBoundingClientRect(),e=c.toggle(e)}),n&&n.bind("click",function(){s.settings.MorphableBoundingRect=o[0].getBoundingClientRect(),e=c.toggle(e)}),s.$on("$destroy",function(){o.unbind("click"),n.unbind("click")})};if(r.template)p(c(r.template));else{if(!r.templateUrl)throw new Error("No template found.");var l=t.get(r.templateUrl);l.then(c).then(p)}}}}]),angular.module("morph.directives").directive("ngMorphOverlay",["$compile","TemplateHandler","Morph",function(t,n,i){var e=!1;return{restrict:"A",scope:{settings:"=ngMorphOverlay"},link:function(s,o){var a=angular.element("<div></div>").css("visibility","hidden"),r=s.settings.overlay,c=function(n){var i=n.data?n.data:n;return t(i)(s)},p=function(t){var n=angular.element(t[0].querySelector(s.settings.closeEl)),r={morphable:o,wrapper:a,content:t};a.append(t),o.after(a),a.css("background",getComputedStyle(t[0]).backgroundColor),s.settings.MorphableBoundingRect=o[0].getBoundingClientRect(),s.settings.ContentBoundingRect=t[0].getBoundingClientRect();var c=new i("Overlay",r,s.settings);o.bind("click",function(){s.settings.MorphableBoundingRect=o[0].getBoundingClientRect(),e=c.toggle(e)}),n&&n.bind("click",function(){s.settings.MorphableBoundingRect=o[0].getBoundingClientRect(),e=c.toggle(e)}),s.$on("$destroy",function(){o.unbind("click"),n.unbind("click")})};if(r.template)p(c(r.template));else{if(!r.templateUrl)throw new Error("No template found.");var l=n.get(r.templateUrl);l.then(c).then(p)}}}}]),angular.module("morph.assist",[]).factory("Assist",[function(){var t={wrapper:{position:"fixed","z-index":"900",opacity:"0",margin:"0","pointer-events":"none","-webkit-transition":"opacity 0.3s 0.5s, width 0.4s 0.1s, height 0.4s 0.1s, top 0.4s 0.1s, left 0.4s 0.1s, margin 0.4s 0.1s",transition:"opacity 0.3s 0.5s, width 0.4s 0.1s, height 0.4s 0.1s, top 0.4s 0.1s, left 0.4s 0.1s, margin 0.4s 0.1s"},content:{transition:"opacity 0.3s 0.3s ease","-webkit-transition":"opacity 0.3s 0.3s ease",height:"0",opacity:"0"},morphable:{"z-index":"1000",outline:"none","-webkit-transition":"all 0.1s 0.5s",transition:"all 0.1s 0.5s"}};return{setBoundingRect:function(t,n,i){t.css({top:n.top+"px",left:n.left+"px",width:n.width+"px",height:n.height+"px"}),"function"==typeof i&&i(t)},applyDefaultStyles:function(n,i){n.css(t[i])}}}]),angular.module("morph",["morph.transitions","morph.assist"]).factory("Morph",["Transitions","Assist",function(t,n){return function(i,e,s){var o=s.MorphableBoundingRect;return n.setBoundingRect(e.wrapper,o),angular.forEach(e,function(t,i){n.applyDefaultStyles(t,i)}),t[i](e,s)}}]).factory("TemplateHandler",["$http","$templateCache",function(t,n){return{get:function(i){return t.get(i,{cache:n})}}}]),angular.module("ngMorph",["morph.transitions","morph.directives","morph.assist","morph"]);